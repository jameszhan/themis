<script type="text/ng-template" id="templates/modal/message_box.tpl">
    <div class="modal-header">
        <h5 class="modal-title">{{ title }}</h5>
    </div>
    <div class="modal-body">
        <p>{{ message }}</p>
    </div>
    <div class="modal-footer" style="padding:5px 10px;">
        <button ng-repeat="btn in buttons" ng-click="close(btn.result)" class="btn btn-xs" ng-class="btn.cssClass">{{ btn.label }}</button>
    </div>
</script>

<script type="text/ng-template" id="templates/modal/task.tpl">
<form class="form-horizontal" name="taskForm" ng-submit="doSubmit()">
    <div class="modal-header">
        <button type="button" class="close" ng-click="close()">&times;</button>
        <h5 class="modal-title">{{title}}</h5>
    </div>
    <div class="modal-body">
        <div class="row-fluid">
            <div class="form-group">
                <label class="control-label col-sm-3">任务名称：</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" required ng-model="task.name" placeholder="任务名称" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3">开始时间：</label>
                <div class="col-sm-6">
                    <a class="dropdown-toggle" id="taskStartToggle" role="button" data-toggle="dropdown" data-target="#" href="#">
                        <div class="input-group">
                            <input placeholder="yyyy-MM-dd" type="text" class="form-control" data-ng-model="task.start" />
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="task.start" data-datetimepicker-config="{ format: 'yyyy-MM-dd', minView: 'day', dropdownSelector: '#taskStartToggle' }"/>
                    </ul>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3">持续时间：</label>
                <div class="col-sm-6">
                    <select ng-model="task.duration" ng-options="o.value as o.name for o in durations" class="form-control"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3">任务描述：</label>
                <div class="col-sm-8">
                    <textarea ng-model="task.desc" class="form-control"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3">重要性：</label>
                <div class="col-sm-8">
                    <select ng-model="task.importance" ng-options="o.value as o.name for o in importances" class="form-control"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3">优先级：</label>
                <div class="col-sm-8">
                    <select ng-model="task.urgency" ng-options="o.value as o.name for o in urgencies" class="form-control"></select>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="close()">关闭</button>
        <button type="submit" ng-disabled="!taskForm.$valid" class="btn btn-primary">保存</button>
    </div>
</form>
</script>


<script type="text/ng-template" id="templates/modal/timesheet.tpl">
    <form class="form-horizontal" name="timesheetForm" ng-submit="doSubmit()">
        <div class="modal-header">
            <button type="button" class="close" ng-click="close()">&times;</button>
            <h5 class="modal-title">{{title}}</h5>
        </div>
        <div class="modal-body">
            <div class="row-fluid">
                <div class="form-group">
                    <label class="control-label col-sm-3">名称：</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" required ng-model="timesheet.title" placeholder="名称" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">开始时间：</label>
                    <div class="col-sm-6">
                        <a class="dropdown-toggle" id="startTimeToggle" role="button" data-toggle="dropdown" data-target="#" href="#">
                            <div class="input-group">
                                <input placeholder="yyyy-MM-dd hh:mm:ss" type="text" class="form-control" data-ng-model="timesheet.started_at" />
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            </div>
                        </a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <datetimepicker data-ng-model="timesheet.started_at" data-datetimepicker-config="{ startView:'hour', minView: 'hour', dropdownSelector: '#startTimeToggle' }" />
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">结束时间：</label>
                    <div class="col-sm-6">
                        <a class="dropdown-toggle" id="endTimeToggle" role="button" data-toggle="dropdown" data-target="#" href="#">
                            <div class="input-group">
                                <input placeholder="yyyy-MM-dd hh:mm:ss" type="text" class="form-control" data-ng-model="timesheet.completed_at" />
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            </div>
                        </a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <datetimepicker data-ng-model="timesheet.completed_at" data-datetimepicker-config="{ startView:'hour', minView: 'hour', dropdownSelector: '#endTimeToggle' }" />
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">类别：</label>
                    <div class="col-sm-5">
                        <select ng-model="timesheet.category_id" ng-options="o.id as o.name for o in categories" class="form-control"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">时间描述：</label>
                    <div class="col-sm-8">
                        <textarea ng-model="timesheet.desc" rows="5" class="form-control"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" ng-click="close()">关闭</button>
            <button type="submit" ng-disabled="!timesheetForm.$valid" class="btn btn-primary">保存</button>
        </div>
    </form>
</script>