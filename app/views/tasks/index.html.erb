<h1>Listing tasks</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Desc</th>
      <th>Importance</th>
      <th>Urgency</th>
      <th>Start</th>
      <th>Duration</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <td><%= task.name %></td>
        <td><%= task.desc %></td>
        <td><%= task.importance %></td>
        <td><%= task.urgency %></td>
        <td><%= task.start %></td>
        <td><%= task.duration %></td>
        <td><%= link_to 'Show', task %></td>
        <td><%= link_to 'Edit', edit_task_path(task) %></td>
        <td><%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Task', new_task_path %>
<div class="row">
    <div class="col-sm-3">
        <form class="form-horizontal" name="host_form"  ng-submit="do_submit()">
            <div class="modal-header">
                <a class="close" ng-click="close()">×</a>
                <h3>{{title}}</h3>
            </div>
            <div class="modal-body">
                <div class="row-fluid">
                    <div class="control-group">
                        <label class="control-label">任务名称：</label>
                        <div class="controls">
                            <input type="text" required ng-model="event.title" placeholder="任务名称" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">开始时间：</label>
                        <div class="controls">
                            <div class="input-append span5">
                                <input type="text" class="span9" ng-model="event.start" data-date-format="yyyy-mm-dd" bs-datepicker>
                                <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                            </div>
                            <div class="input-append span5">
                                <input type="text" class="span8" ng-model="start_time" bs-timepicker>
                                <button type="button" class="btn" data-toggle="timepicker"><i class="icon-time"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">持续时间：</label>
                        <div class="controls">
                            <select ng-model="duration" ng-options="o.value as o.name for o in durations" class="span5"></select>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">任务描述：</label>
                        <div class="controls">
                            <textarea ng-model="event.desc"></textarea>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">优先级：</label>
                        <div class="controls">
                            <select ng-model="event.priority" ng-options="o.value as o.name for o in priorities" class="span5"></select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a data-dismiss="modal" class="btn" ng-click="close()">关闭</a>
                <button type="submit" ng-disabled="!host_form.$valid" class="btn btn-primary">保存</button>
            </div>
        </form>
    </div>
    <div class="col-sm-8" ng-controller="CalendarCtrl">
        <div class="calendar" ng-model="eventSources" ui-calendar="uiConfig.calendar"></div>
    </div>
</div>





